
{% extends 'base.html' %}
{% block content %}
  <h4>Manutenção - app_config</h4>
  <div class="row g-3">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h6 class="card-title">Adicionar</h6>
          <form method="post" action="{{ url_for('app_config_add') }}" class="row g-2">
            <div class="col-md-3"><input type="number" class="form-control" name="id" placeholder="ID" required></div>
            <div class="col-md-6"><input type="text" class="form-control" name="api_token" placeholder="api_token" required></div>
            <div class="col-md-3"><input type="number" class="form-control" name="race_id" placeholder="race_id" required></div>
            <div class="col-12"><button class="btn btn-success" type="submit">Criar</button></div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h6 class="card-title">Atualizar / Remover</h6>
          <div class="table-responsive">
            <table class="table table-sm">
              <thead><tr><th>ID</th><th>api_token</th><th>race_id</th><th class="text-end">Ações</th></tr></thead>
              <tbody>
                {% for id, token, race in rows %}
                  <tr>
                    <form method="post" action="{{ url_for('app_config_update') }}">
                      <td><input type="number" class="form-control form-control-sm" name="id" value="{{ id }}" readonly></td>
                      <td><input type="text" class="form-control form-control-sm" name="api_token" value="{{ token }}"></td>
                      <td><input type="number" class="form-control form-control-sm" name="race_id" value="{{ race }}"></td>
                      <td class="text-end">
                        <button class="btn btn-sm btn-primary" type="submit">Salvar</button>
                        <button class="btn btn-sm btn-outline-danger" type="submit" formaction="{{ url_for('app_config_delete') }}">Remover</button>
                      </td>
                    </form>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
